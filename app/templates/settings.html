{% extends 'base.html' %}
{% block title %}Settings{% endblock %}
{% block content %}
<section class="card">
  <div class="card-header"><h2>⚙️ Settings</h2></div>

  <div class="host-info-bar" style="margin-bottom: 1rem;">
    <span class="info-item"><strong>Username:</strong> {{ current_user.username }}</span>
    <span class="info-item"><strong>Role:</strong> {{ current_user.role }}</span>
    <span class="info-item"><strong>Joined:</strong> {{ current_user.created_at.strftime('%Y-%m-%d %H:%M') }}</span>
  </div>

  <h3 style="margin: 1rem 0 0.5rem;">Change Password</h3>
  <form method="POST" style="max-width: 400px;">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <input type="hidden" name="action" value="change_password">
    <div class="form-group">
      <label for="current_password">Current Password</label>
      <input type="password" id="current_password" name="current_password" required class="form-control">
    </div>
    <div class="form-group" style="margin-top: 0.5rem;">
      <label for="new_password">New Password</label>
      <input type="password" id="new_password" name="new_password" required minlength="6" class="form-control">
    </div>
    <div class="form-group" style="margin-top: 0.5rem;">
      <label for="confirm_password">Confirm New Password</label>
      <input type="password" id="confirm_password" name="confirm_password" required minlength="6" class="form-control">
    </div>
    <button type="submit" class="btn primary" style="margin-top: 1rem;">Update Password</button>
  </form>
</section>
{% endblock %}
