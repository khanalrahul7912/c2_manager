{% extends 'base.html' %}
{% block title %}Host {{ host.name }}{% endblock %}
{% block content %}
<section class="card">
  <h2>{{ host.name }}</h2>
  <p><strong>Endpoint:</strong> {{ host.username }}@{{ host.address }}:{{ host.port }}</p>
  <p><strong>Group:</strong> {{ host.group_name }} | <strong>Auth:</strong> {{ host.auth_mode }} | <strong>Strict host key:</strong> {{ 'enabled' if host.strict_host_key else 'disabled' }}</p>
  <p><strong>Jump host:</strong> {{ host.jump_username }}@{{ host.jump_address }}:{{ host.jump_port }}{% if not host.use_jump_host %} (disabled){% endif %}</p>
  <form method="post">
    {{ form.hidden_tag() }}
    <label>{{ form.command.label }} {{ form.command(rows=4, placeholder='uname -a', class_='command-input') }}</label>
    {{ form.submit(class_='btn') }}
  </form>
</section>

<section class="card">
  <h3>Execution History</h3>
  {% with terminal_title=host.username ~ '@' ~ host.address ~ ':' ~ host.port,
          shell_type='ssh',
          pagination=executions_pagination,
          detail_url='main.host_detail',
          detail_id_name='host_id',
          detail_id_value=host.id %}
    {% include 'components/terminal_history.html' %}
  {% endwith %}
</section>
{% endblock %}
